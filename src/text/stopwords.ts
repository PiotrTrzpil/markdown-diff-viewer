/**
 * Stop words for text comparison.
 * These are common function words that are often filtered or absorbed
 * during diffing to reduce noise.
 */

export const STOP_WORDS = new Set([
  // Articles & determiners
  "a",
  "an",
  "the",
  "some",
  "any",
  "each",
  "every",
  "all",
  "most",
  "both",
  "few",
  "many",
  "much",
  "other",
  "another",
  "such",
  "same",
  // Pronouns
  "i",
  "me",
  "my",
  "mine",
  "myself",
  "you",
  "your",
  "yours",
  "yourself",
  "he",
  "him",
  "his",
  "himself",
  "she",
  "her",
  "hers",
  "herself",
  "it",
  "its",
  "itself",
  "we",
  "us",
  "our",
  "ours",
  "ourselves",
  "they",
  "them",
  "their",
  "theirs",
  "themselves",
  "who",
  "whom",
  "whose",
  "which",
  "what",
  "that",
  "this",
  "these",
  "those",
  // Be verbs
  "am",
  "is",
  "are",
  "was",
  "were",
  "be",
  "been",
  "being",
  // Have verbs
  "has",
  "have",
  "had",
  "having",
  // Do verbs
  "do",
  "does",
  "did",
  "doing",
  "done",
  // Modal verbs
  "can",
  "could",
  "will",
  "would",
  "shall",
  "should",
  "may",
  "might",
  "must",
  // Common verbs
  "get",
  "got",
  "gets",
  "getting",
  "make",
  "made",
  "makes",
  "making",
  "go",
  "goes",
  "went",
  "gone",
  "going",
  "come",
  "comes",
  "came",
  "coming",
  "take",
  "takes",
  "took",
  "taken",
  "taking",
  "give",
  "gives",
  "gave",
  "given",
  "giving",
  "say",
  "says",
  "said",
  "saying",
  "see",
  "sees",
  "saw",
  "seen",
  "seeing",
  "know",
  "knows",
  "knew",
  "known",
  "knowing",
  "think",
  "thinks",
  "thought",
  "thinking",
  "become",
  "becomes",
  "became",
  "becoming",
  "seem",
  "seems",
  "seemed",
  "seeming",
  // Prepositions
  "to",
  "of",
  "in",
  "for",
  "on",
  "at",
  "by",
  "with",
  "from",
  "as",
  "into",
  "onto",
  "about",
  "through",
  "during",
  "before",
  "after",
  "above",
  "below",
  "between",
  "under",
  "over",
  "against",
  "among",
  "within",
  "without",
  "until",
  "since",
  "toward",
  "towards",
  "upon",
  // Conjunctions
  "and",
  "or",
  "but",
  "not",
  "no",
  "nor",
  "so",
  "yet",
  "if",
  "then",
  "than",
  "because",
  "although",
  "though",
  "while",
  "when",
  "where",
  "whether",
  "either",
  "neither",
  // Adverbs
  "very",
  "also",
  "just",
  "only",
  "even",
  "still",
  "already",
  "always",
  "never",
  "often",
  "sometimes",
  "usually",
  "rarely",
  "here",
  "there",
  "now",
  "then",
  "thus",
  "hence",
  "how",
  "why",
  "however",
  "therefore",
  "moreover",
  "furthermore",
  // Other common words
  "like",
  "more",
  "less",
  "well",
  "too",
  "being",
  "been",
]);

/**
 * Check if text contains only stop words (and punctuation/whitespace).
 */
export function isOnlyStopWords(s: string): boolean {
  const tokens = s.trim().split(/\s+/).filter(Boolean);
  if (tokens.length === 0) return true; // pure whitespace
  return tokens.every((t) => {
    const letters = t.toLowerCase().replace(/[^a-z]/g, "");
    return letters.length === 0 || STOP_WORDS.has(letters);
  });
}
